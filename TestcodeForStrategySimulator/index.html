<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trading Strategy Simulator | Rupees System</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --success: #27ae60;
            --danger: #e74c3c;
            --warning: #f39c12;
            --light: #ecf0f1;
            --dark: #34495e;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            color: #333;
            padding: 20px;
            min-height: 100vh;
        }

        @keyframes gradientBG {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 25px;
            background: rgba(44, 62, 80, 0.9);
            color: white;
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            color: #fff;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        .subtitle {
            font-size: 1rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
            color: #ecf0f1;
        }

        .card {
            background: rgba(255, 255, 255, 0.92);
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            padding: 20px;
            margin-bottom: 30px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .card-title {
            font-size: 1.4rem;
            color: var(--primary);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--secondary);
        }

        .input-group {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .input-box {
            flex: 1;
            min-width: 200px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
            font-size: 0.95rem;
        }

        input,
        select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.9);
        }

        button {
            background: linear-gradient(to right, var(--secondary), #1e5799);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25);
        }

        .btn-success {
            background: linear-gradient(to right, var(--success), #1e7d34);
        }

        .btn-danger {
            background: linear-gradient(to right, var(--danger), #9b1c1c);
        }

        .controls {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        /* Table container for horizontal scrolling */
        .table-container {
            width: 100%;
            overflow-x: auto;
            margin-top: 20px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 1000px;
        }

        th,
        td {
            padding: 12px 15px;
            text-align: right;
            border-bottom: 1px solid #e0e0e0;
            font-size: 0.9rem;
            white-space: nowrap;
        }

        th {
            background: linear-gradient(to bottom, #f8f9fa, #e9ecef);
            color: var(--dark);
            font-weight: 700;
            position: sticky;
            top: 0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        tr:nth-child(even) {
            background-color: rgba(249, 249, 249, 0.8);
        }

        tr:hover {
            background-color: rgba(236, 240, 241, 0.7);
        }

        .positive {
            color: var(--success);
            font-weight: 700;
        }

        .negative {
            color: var(--danger);
            font-weight: 700;
        }

        .chart-container {
            position: relative;
            height: 400px;
            margin-top: 30px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .history-list {
            max-height: 350px;
            overflow-y: auto;
            margin-top: 20px;
            border-radius: 8px;
            background: rgba(249, 249, 249, 0.8);
            padding: 10px;
        }

        .history-item {
            padding: 15px;
            border-bottom: 1px solid #e0e0e0;
            cursor: pointer;
            transition: all 0.2s ease;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 8px;
            margin-bottom: 10px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
        }

        .history-item:hover {
            background-color: rgba(236, 240, 241, 0.7);
            transform: translateX(5px);
        }

        .history-item h4 {
            color: var(--primary);
            margin-bottom: 5px;
            font-size: 1.1rem;
        }

        .history-item p {
            color: #555;
            font-size: 0.85rem;
            margin-bottom: 3px;
        }

        .tabs {
            display: flex;
            border-bottom: 2px solid var(--secondary);
            margin-bottom: 20px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 8px 8px 0 0;
            overflow: hidden;
        }

        .tab {
            padding: 14px 25px;
            cursor: pointer;
            font-weight: 600;
            color: #555;
            transition: all 0.3s ease;
            background: rgba(240, 240, 240, 0.8);
            font-size: 0.95rem;
        }

        .tab.active {
            color: white;
            background: linear-gradient(to right, var(--secondary), #1e5799);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .tab-content.active {
            display: block;
        }

        .footer {
            text-align: center;
            padding: 20px;
            color: white;
            margin-top: 30px;
            font-size: 0.85rem;
            opacity: 0.8;
        }

        @media (max-width: 992px) {
            .input-group {
                flex-direction: column;
            }

            .input-box {
                min-width: 100%;
            }

            .card-title {
                font-size: 1.3rem;
            }

            h1 {
                font-size: 1.8rem;
            }

            .subtitle {
                font-size: 0.9rem;
            }

            .controls {
                flex-direction: column;
            }

            .chart-container {
                height: 350px;
            }

            th,
            td {
                padding: 10px 12px;
                font-size: 0.85rem;
            }
        }

        @media (max-width: 768px) {
            header {
                padding: 15px;
            }

            .card {
                padding: 15px;
            }

            .tab {
                padding: 10px 15px;
                font-size: 0.85rem;
            }

            .chart-container {
                height: 300px;
            }
        }

        .rupee-icon {
            font-weight: bold;
            margin-right: 4px;
        }

        .highlight {
            background-color: rgba(52, 152, 219, 0.1);
            font-weight: 600;
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>₹ Trading Strategy Simulator</h1>
            <p class="subtitle">Simulate trading performance with Indian Rupees system, customizable profit ratios, and
                detailed analytics</p>
        </header>

        <div class="card">
            <h2 class="card-title">Simulation Parameters</h2>
            <div class="input-group">
                <div class="input-box">
                    <label for="startingMargin">Starting Margin (₹)</label>
                    <input type="number" id="startingMargin" min="10000" value="100000">
                </div>
                <div class="input-box">
                    <label for="years">Number of Years</label>
                    <input type="number" id="years" min="1" max="20" value="5">
                </div>
                <div class="input-box">
                    <label for="winRate">Win Rate (%)</label>
                    <input type="number" id="winRate" min="1" max="99" value="60">
                </div>
            </div>
            <div class="input-group">
                <div class="input-box">
                    <label for="tradesPerMonth">Trades per Month</label>
                    <input type="number" id="tradesPerMonth" min="1" value="40">
                </div>
                <div class="input-box">
                    <label for="lossPercent">Loss per Trade (% of margin)</label>
                    <input type="number" id="lossPercent" min="1" max="100" value="10">
                </div>
                <div class="input-box">
                    <label for="profitRatio">Profit Ratio (Reward:Risk)</label>
                    <select id="profitRatio">
                        <option value="1">1:1</option>
                        <option value="2" selected>1:2</option>
                        <option value="3">1:3</option>
                        <option value="4">1:4</option>
                        <option value="5">1:5</option>
                    </select>
                </div>
            </div>
            <div class="controls">
                <button id="runSimulation">
                    ▶ Run Simulation
                </button>
                <button id="saveResults" class="btn-success">
                    💾 Save Results
                </button>
                <button id="clearHistory" class="btn-danger">
                    🗑️ Clear History
                </button>
            </div>
        </div>

        <div class="tabs">
            <div class="tab active" data-tab="results">Simulation Results</div>
            <div class="tab" data-tab="chart">Performance Chart</div>
            <div class="tab" data-tab="history">Saved History</div>
        </div>

        <div class="tab-content active" id="results-tab">
            <div class="card">
                <h2 class="card-title">Simulation Results</h2>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Year</th>
                                <th>Margin Start (₹)</th>
                                <th>Loss/Trade (₹)</th>
                                <th>Profit/Win (₹)</th>
                                <th>Monthly Win (₹)</th>
                                <th>Monthly Loss (₹)</th>
                                <th>Monthly PnL (₹)</th>
                                <th>Yearly Win (₹)</th>
                                <th>Yearly Loss (₹)</th>
                                <th>Net PnL (₹)</th>
                                <th>20% of Profit (₹)</th>
                            </tr>
                        </thead>
                        <tbody id="resultsBody">
                            <tr>
                                <td colspan="11" style="text-align: center;">Run simulation to see results</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="tab-content" id="chart-tab">
            <div class="card">
                <h2 class="card-title">Performance Over Years</h2>
                <div class="chart-container">
                    <canvas id="pnlChart"></canvas>
                </div>
            </div>
        </div>

        <div class="tab-content" id="history-tab">
            <div class="card">
                <h2 class="card-title">Saved Simulations</h2>
                <div id="historyList" class="history-list">
                    <div class="history-item">
                        <h4>Sample Simulation</h4>
                        <p>Date: 10/05/2023</p>
                        <p>Starting Margin: ₹100,000 | Years: 5 | Win Rate: 60% | Profit Ratio: 1:2</p>
                        <p>Total Net PnL: ₹2,450,000</p>
                    </div>
                    <div class="history-item">
                        <h4>Aggressive Strategy</h4>
                        <p>Date: 08/05/2023</p>
                        <p>Starting Margin: ₹150,000 | Years: 7 | Win Rate: 55% | Profit Ratio: 1:3</p>
                        <p>Total Net PnL: ₹3,120,000</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer">
            Trading Strategy Simulator | Designed for Indian Rupees System | &copy; 2023
        </div>
    </div>

    <script>
        // DOM Elements
        const startingMarginInput = document.getElementById('startingMargin');
        const yearsInput = document.getElementById('years');
        const winRateInput = document.getElementById('winRate');
        const tradesPerMonthInput = document.getElementById('tradesPerMonth');
        const lossPercentInput = document.getElementById('lossPercent');
        const profitRatioSelect = document.getElementById('profitRatio');
        const runSimulationBtn = document.getElementById('runSimulation');
        const saveResultsBtn = document.getElementById('saveResults');
        const clearHistoryBtn = document.getElementById('clearHistory');
        const resultsBody = document.getElementById('resultsBody');
        const historyList = document.getElementById('historyList');
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');

        // Chart initialization
        const pnlChartCtx = document.getElementById('pnlChart').getContext('2d');
        let pnlChart;

        // Initialize the app
        document.addEventListener('DOMContentLoaded', () => {
            loadHistory();

            // Tab switching
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.getAttribute('data-tab');

                    // Update active tab
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');

                    // Update active content
                    tabContents.forEach(content => {
                        content.classList.remove('active');
                        if (content.id === `${tabId}-tab`) {
                            content.classList.add('active');
                        }
                    });
                });
            });
        });

        // Run simulation button
        runSimulationBtn.addEventListener('click', runSimulation);

        // Save results button
        saveResultsBtn.addEventListener('click', saveResults);

        // Clear history button
        clearHistoryBtn.addEventListener('click', clearHistory);

        // Main simulation function
        function runSimulation() {
            // Get input values
            const startingMargin = parseFloat(startingMarginInput.value);
            const years = parseInt(yearsInput.value);
            const winRate = parseFloat(winRateInput.value) / 100;
            const tradesPerMonth = parseInt(tradesPerMonthInput.value);
            const lossPercent = parseFloat(lossPercentInput.value) / 100;
            const profitRatio = parseInt(profitRatioSelect.value);

            // Validate inputs
            if (isNaN(startingMargin) || isNaN(years) || isNaN(winRate) ||
                isNaN(tradesPerMonth) || isNaN(lossPercent)) {
                alert('Please enter valid numbers for all inputs');
                return;
            }

            // Calculate trades per year
            const tradesPerYear = tradesPerMonth * 12;
            const lossRate = 1 - winRate;

            // Initialize variables
            let margin = startingMargin;
            const results = [];

            // Run simulation for each year
            for (let year = 1; year <= years; year++) {
                // Calculate values for this year
                const lossPerTrade = lossPercent * margin;
                const profitPerWin = profitRatio * lossPerTrade;

                // Calculate monthly wins/losses
                const winsPerMonth = Math.round(tradesPerMonth * winRate);
                const lossesPerMonth = tradesPerMonth - winsPerMonth;
                const monthlyWin = winsPerMonth * profitPerWin;
                const monthlyLoss = lossesPerMonth * lossPerTrade;
                const monthlyPnL = monthlyWin - monthlyLoss;

                // Calculate yearly wins/losses
                const winsPerYear = Math.round(tradesPerYear * winRate);
                const lossesPerYear = tradesPerYear - winsPerYear;
                const yearlyWin = winsPerYear * profitPerWin;
                const yearlyLoss = lossesPerYear * lossPerTrade;

                // Calculate net PnL
                const netPnL = yearlyWin - yearlyLoss;

                // Calculate 20% of profit for next year's margin
                const twentyPercentProfit = 0.2 * Math.max(netPnL, 0);

                // Store results for this year
                results.push({
                    year,
                    marginStart: margin,
                    lossPerTrade,
                    profitPerWin,
                    monthlyWin,
                    monthlyLoss,
                    monthlyPnL,
                    yearlyWin,
                    yearlyLoss,
                    netPnL,
                    twentyPercentProfit
                });

                // Update margin for next year
                margin = twentyPercentProfit > 0 ? twentyPercentProfit : margin;
            }

            // Display results
            displayResults(results);
        }

        // Display results in the table
        function displayResults(results) {
            // Clear existing results
            resultsBody.innerHTML = '';

            // Add rows for each year
            results.forEach(item => {
                const row = document.createElement('tr');

                // Add highlight to current year row
                if (item.year === 1) {
                    row.classList.add('highlight');
                }

                row.innerHTML = `
                    <td>${item.year}</td>
                    <td>₹${formatNumber(item.marginStart)}</td>
                    <td>₹${formatNumber(item.lossPerTrade)}</td>
                    <td>₹${formatNumber(item.profitPerWin)}</td>
                    <td class="${item.monthlyWin >= 0 ? 'positive' : ''}">₹${formatNumber(item.monthlyWin)}</td>
                    <td class="${item.monthlyLoss >= 0 ? '' : 'negative'}">₹${formatNumber(item.monthlyLoss)}</td>
                    <td class="${item.monthlyPnL >= 0 ? 'positive' : 'negative'}">₹${formatNumber(item.monthlyPnL)}</td>
                    <td class="${item.yearlyWin >= 0 ? 'positive' : ''}">₹${formatNumber(item.yearlyWin)}</td>
                    <td class="${item.yearlyLoss >= 0 ? '' : 'negative'}">₹${formatNumber(item.yearlyLoss)}</td>
                    <td class="${item.netPnL >= 0 ? 'positive' : 'negative'}">₹${formatNumber(item.netPnL)}</td>
                    <td>₹${formatNumber(item.twentyPercentProfit)}</td>
                `;

                resultsBody.appendChild(row);
            });

            // Update chart
            updateChart(results);
        }

        // Update the chart with results
        function updateChart(results) {
            if (pnlChart) {
                pnlChart.destroy();
            }

            const years = results.map(item => item.year);
            const netPnLs = results.map(item => item.netPnL);
            const yearlyWins = results.map(item => item.yearlyWin);
            const yearlyLosses = results.map(item => item.yearlyLoss);

            pnlChart = new Chart(pnlChartCtx, {
                type: 'line',
                data: {
                    labels: years,
                    datasets: [
                        {
                            label: 'Net PnL',
                            data: netPnLs,
                            borderColor: '#3498db',
                            backgroundColor: 'rgba(52, 152, 219, 0.1)',
                            borderWidth: 4,
                            fill: true,
                            tension: 0.3,
                            yAxisID: 'y'
                        },
                        {
                            label: 'Yearly Win',
                            data: yearlyWins,
                            borderColor: '#27ae60',
                            borderWidth: 3,
                            fill: false,
                            yAxisID: 'y'
                        },
                        {
                            label: 'Yearly Loss',
                            data: yearlyLosses,
                            borderColor: '#e74c3c',
                            borderWidth: 3,
                            fill: false,
                            yAxisID: 'y'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                font: {
                                    size: 13
                                }
                            }
                        },
                        title: {
                            display: true,
                            text: 'Trading Performance Over Years',
                            font: {
                                size: 16
                            }
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                            callbacks: {
                                label: function (context) {
                                    return `${context.dataset.label}: ₹${formatNumber(context.parsed.y)}`;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            title: {
                                display: true,
                                text: 'Amount (₹)',
                                font: {
                                    size: 13
                                }
                            },
                            ticks: {
                                callback: function (value) {
                                    return '₹' + formatNumber(value);
                                },
                                font: {
                                    size: 11
                                }
                            }
                        }
                    }
                }
            });
        }

        // Save results to localStorage
        function saveResults() {
            const resultsRows = resultsBody.querySelectorAll('tr');
            if (resultsRows.length === 0 || resultsRows[0].querySelector('td').textContent === "Run simulation to see results") {
                alert('No results to save. Please run a simulation first.');
                return;
            }

            // Get simulation parameters
            const params = {
                startingMargin: parseFloat(startingMarginInput.value),
                years: parseInt(yearsInput.value),
                winRate: parseFloat(winRateInput.value),
                tradesPerMonth: parseInt(tradesPerMonthInput.value),
                lossPercent: parseFloat(lossPercentInput.value),
                profitRatio: parseInt(profitRatioSelect.value),
                timestamp: new Date().toISOString()
            };

            // Extract results data
            const results = [];
            resultsRows.forEach(row => {
                const cells = row.querySelectorAll('td');
                results.push({
                    year: parseInt(cells[0].textContent),
                    marginStart: parseFloat(cells[1].textContent.replace('₹', '').replace(/,/g, '')),
                    lossPerTrade: parseFloat(cells[2].textContent.replace('₹', '').replace(/,/g, '')),
                    profitPerWin: parseFloat(cells[3].textContent.replace('₹', '').replace(/,/g, '')),
                    monthlyWin: parseFloat(cells[4].textContent.replace('₹', '').replace(/,/g, '')),
                    monthlyLoss: parseFloat(cells[5].textContent.replace('₹', '').replace(/,/g, '')),
                    monthlyPnL: parseFloat(cells[6].textContent.replace('₹', '').replace(/,/g, '')),
                    yearlyWin: parseFloat(cells[7].textContent.replace('₹', '').replace(/,/g, '')),
                    yearlyLoss: parseFloat(cells[8].textContent.replace('₹', '').replace(/,/g, '')),
                    netPnL: parseFloat(cells[9].textContent.replace('₹', '').replace(/,/g, '')),
                    twentyPercentProfit: parseFloat(cells[10].textContent.replace('₹', '').replace(/,/g, ''))
                });
            });

            // Create simulation object
            const simulation = {
                id: Date.now(),
                params,
                results
            };

            // Save to localStorage
            let history = JSON.parse(localStorage.getItem('tradingHistory')) || [];
            history.push(simulation);
            localStorage.setItem('tradingHistory', JSON.stringify(history));

            // Reload history
            loadHistory();

            alert('Simulation saved successfully!');
        }

        // Load history from localStorage
        function loadHistory() {
            const history = JSON.parse(localStorage.getItem('tradingHistory')) || [];
            historyList.innerHTML = '';

            if (history.length === 0) {
                historyList.innerHTML = '<p style="text-align: center; padding: 20px; color: #666;">No saved simulations found.</p>';
                return;
            }

            // Display each simulation in history
            history.forEach(sim => {
                const item = document.createElement('div');
                item.className = 'history-item';
                item.dataset.id = sim.id;

                const date = new Date(sim.params.timestamp);
                const formattedDate = date.toLocaleString();
                const profitRatioText = `1:${sim.params.profitRatio}`;
                const totalPnL = sim.results.reduce((sum, r) => sum + r.netPnL, 0);

                item.innerHTML = `
                    <h4>Simulation #${sim.id}</h4>
                    <p>Date: ${formattedDate}</p>
                    <p>Starting Margin: ₹${formatNumber(sim.params.startingMargin)} | 
                    Years: ${sim.params.years} | 
                    Win Rate: ${sim.params.winRate}% | 
                    Profit Ratio: ${profitRatioText}</p>
                    <p class="${totalPnL >= 0 ? 'positive' : 'negative'}">Total Net PnL: ₹${formatNumber(totalPnL)}</p>
                `;

                item.addEventListener('click', () => {
                    displayResults(sim.results);

                    // Update inputs to match this simulation
                    startingMarginInput.value = sim.params.startingMargin;
                    yearsInput.value = sim.params.years;
                    winRateInput.value = sim.params.winRate;
                    tradesPerMonthInput.value = sim.params.tradesPerMonth;
                    lossPercentInput.value = sim.params.lossPercent;
                    profitRatioSelect.value = sim.params.profitRatio;

                    // Switch to results tab
                    tabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(c => c.classList.remove('active'));

                    document.querySelector('.tab[data-tab="results"]').classList.add('active');
                    document.getElementById('results-tab').classList.add('active');
                });

                historyList.appendChild(item);
            });
        }

        // Clear history
        function clearHistory() {
            if (confirm('Are you sure you want to clear all saved simulations?')) {
                localStorage.removeItem('tradingHistory');
                loadHistory();
            }
        }

        // Helper function to format numbers as Indian Rupees
        function formatNumber(num) {
            return num.toLocaleString('en-IN', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });
        }

        // Initialize with sample data
        function initializeSampleData() {
            const sampleResults = [
                {
                    year: 1,
                    marginStart: 100000,
                    lossPerTrade: 10000,
                    profitPerWin: 20000,
                    monthlyWin: 480000,
                    monthlyLoss: 160000,
                    monthlyPnL: 320000,
                    yearlyWin: 5760000,
                    yearlyLoss: 1920000,
                    netPnL: 3840000,
                    twentyPercentProfit: 768000
                },
                {
                    year: 2,
                    marginStart: 768000,
                    lossPerTrade: 76800,
                    profitPerWin: 153600,
                    monthlyWin: 3686400,
                    monthlyLoss: 1228800,
                    monthlyPnL: 2457600,
                    yearlyWin: 44236800,
                    yearlyLoss: 14745600,
                    netPnL: 29491200,
                    twentyPercentProfit: 5898240
                }
            ];

            displayResults(sampleResults);
        }

        // Initialize with sample data on first load
        setTimeout(initializeSampleData, 500);
    </script>
</body>

</html>